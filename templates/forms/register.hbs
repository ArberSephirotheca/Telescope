{{#if success}}
    <div class="card bg-success text-light">
        <h1 class="card-header">
            Confirmation email sent!
        </h1>
        <div class="card-body">
            Confirmation email sent to <em>{{email}}</em> with link to complete
            registration. Be sure to check your spam filter if you don't see it.
        </div>
    </div>
{{else}}
    <div class="card text-dark">
        <h1 class="card-header">
            Sign Up
        </h1>
        <div class="card-body">
            <form method="post" id="registration-form">
                <div class="form-group row">
                    <label for="email-input" class="col-md-2 col-form-label">
                        Email Address
                    </label>
                    <div class="col-md-10">
                        <input
                                id="email-input"
                                type="email"
                                name="email"
                            {{#if email}}
                                value="{{email}}"
                            {{else}}
                                placeholder="example@email.org"
                            {{/if}}
                            {{#if error}}
                                class="form-control is-invalid"
                                aria-labelledby="email-invalid"
                            {{else}}
                                class="form-control"
                            {{/if}}
                                required>
                        {{#if error}}
                            <div id="email-invalid" class="invalid-feedback">
                                {{error}}
                            </div>
                        {{/if}}
                    </div>
                </div>
                <div class="form-group d-block float-right">
                    <button id="submit-button" class="btn btn-primary" type="submit">
                        Sign Up
                    </button>
                    {{!-- Use a spinner to indicate loading --}}
                    <script>
                        $(document).ready(function() {
                            $('#registration-form').submit(function() {
                                const btn = $('#submit-button');
                                // disable button
                                btn.prop("disabled", true);
                                // add spinner to button
                                btn.html(
                                    `<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>`
                                );
                            })
                        });
                    </script>
                </div>
            </form>
        </div>
    </div>
{{/if}}
