mutation UpsertUserAccount($username: String!, $platform: user_account!, $platform_id: String!) {
    insert_user_accounts_one(
        object: {
            username: $username,
            type: $platform,
            account_id: $platform_id
        },
        on_conflict: {
            constraint: user_accounts_pkey,
            update_columns: [
                # Update the on-platform id if this platform is already linked.
                account_id
            ]
        }
    ) { username }
}
