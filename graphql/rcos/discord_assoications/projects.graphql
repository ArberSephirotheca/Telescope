fragment AssoicationInfo on projects {
    project_id
    title
    # If project roles are created, what are the role ids.
    project_role{
        role_id
    }
    # If project channel  is created, what is the channel id and kind.
    project_channels{
        channel_id
        kind
    }
    # find member who enroll this project.
    enrollments{
        user_id
    }
}


<<<<<<< HEAD
query CurrProjects( $offset: Int!, $search: String!, $now: date!) {
    projects( offset: $offset, order_by: [{title: asc}], where: {
        _or: [
            {title: {_ilike: $search}},
            {description: {_ilike: $search}},
        ],
        enrollments: {semester: {start_date: {_lte: $now}, end_date: {_gte: $now}}}
        }
=======
query Projects($limit: Int!, $offset: Int!, $search: String!) {
    projects(limit: $limit, offset: $offset, order_by: [{title: asc}], where: {
        _or: [
            {title: {_ilike: $search}},
            {description: {_ilike: $search}},
        ]}
>>>>>>> f746ca16d56c965efc2a96e3ae4e91bf91df1971
    )  { ...AssoicationInfo }
}
